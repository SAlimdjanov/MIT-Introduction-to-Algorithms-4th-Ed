# Bucket Sort

**Bucket sort** assumes that the input is drawn from a uniform distribution and has an average-case running time of $O(n)$. Like counting sort, bucket sort is fast because it assumes something about the input. Whereas counting sort assumes that the input consists of integers in a small range, bucket sort assumes that the input is generated by a random process that distributes elements uniformly and independently over the interval $[0, 1)$.

Bucket sort divides the interval $[0, 1)$ into $n$ equal-sized subintervals, or **buckets** and then uniformly distributes the $n$ input numbers into the buckets. Since the inputs are uniformly distributed over the interval, we do not expect many of the numbers to fall into each bucket. To produce the output, we simply sort the numbers in each bucket and then go through the buckets in order, listing the elements in each.

The `BUCKET_SORT` procedure assumes that the input is an array $A[1: n]$ and that each element $A[i]$ in the array satisfies $0 \le A[i] < 1$. The code requires an auxiliary array $B[0: n - 1]$ of linked lists (buckets) and assumes that there is a mechanism for maintaining such lists.

```python
BUCKET_SORT(A, n)
    let B[0: n - 1] be a new array
    for i = 0 to n - 1
        make B[i] an empty array
    for i = 1 to n
        insert A[i] into arrat B[floor(n * A[i])]
    for i = 0 to n - 1
        sort array B[i] using insertion sort
    concatenate lists B[0],..., B[n - 1] together (ascending)
    return the concatenated lists
```

## Analysis

All steps in the procedure run in $O(n)$ time (worst-case) except for the insertion sort step. Using expectation values (by linearity of expectation), random variables, Bernoulli trials, and the binomial distribution, the average-case running time for bucket sort is $\Theta(n)$. Even if the input is not drawn form a uniform distribution, bucket sort may still run in linear time. As lobg as the input has the property that the sum of squares of the bucket sizes in linear in the total number of elements, bucket sort runs in linear time.